<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>sfsite</title>
  <link rel="stylesheet" href="style.css">
  <style>
    #menu_box {
      border: 1px solid black;
      padding: 15px;
      margin-bottom: 10px;
    }
  </style>
</head>

<body>
  <header>
    <h1>박지웅</h1>
    <p class="subtitle">hi.</p>
  </header>
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="portfolio.html">Portfolio</a>
    <a href="contact.html">Contact</a>
  </nav>
  <main class="container">
    <section>
      <script>
        function orderP() {
          var total = 0;
          var checks = document.getElementsByClassName("menu-checked");
          var qtys = document.getElementsByClassName("mQty");

          for (var i = 0; i < checks.length; i++) {
            if (checks[i].checked) {
              var price = parseInt(checks[i].value);
              var quantity = parseInt(qtys[i].value);

              if (isNaN(quantity) || quantity < 1) {
                quantity = 1;
              }
              total += price * quantity;
            }
          }
          document.getElementById("total").value = total;
        }

        function askAddress() {
          var adr = document.getElementById("adr");
          if (adr.value == "") {
            alert("배달 받으실 주소를 반드시 입력해주세요!");
            adr.focus();
          }
        }

        function validate(e) {
          var total = parseInt(document.getElementById("total").value);

          if (total == 0) {
            alert("상품을 적어도 하나는 선택해야 주문 가능합니다.");
            e.preventDefault();
            return false;
          }

          alert("주문이 완료되었습니다! (총 결제금액: " + total + "원)");
          e.preventDefault();
          return false;
        }
      </script>
      <h3>배달 이벤트</h3>
      <hr>
      
      <form action="#" onsubmit="return validate(event)">
          
          <div id="menu_box">
              <h4>[메뉴 선택]</h4>
              
              <div>
                  <input type="checkbox" class="menu-checked" value="20000" onchange="orderP()"> 후라이드 치킨 (20,000원)
                  <input type="number" class="mQty" value="1" min="1" style="width: 80px;" onchange="orderP()" onkeyup="orderP()"> 개
              </div>
              <div>
                  <input type="checkbox" class="menu-checked" value="22000" onchange="orderP()"> 양념 치킨 (22,000원)
                  <input type="number" class="mQty" value="1" min="1" style="width: 80px;" onchange="orderP()" onkeyup="orderP()"> 개
              </div>
              <div>
                  <input type="checkbox" class="menu-checked" value="2000" onchange="orderP()"> 순살 변경 (2,000원)
                  <input type="number" class="mQty" value="1" min="1" style="width: 80px;" onchange="orderP()" onkeyup="orderP()"> 개
              </div>
              <div>
                  <input type="checkbox" class="menu-checked" value="1500" onchange="orderP()"> 콜라 1.25L (1,500원)
                  <input type="number" class="mQty" value="1" min="1" style="width: 80px;" onchange="orderP()" onkeyup="orderP()"> 개
              </div>
          </div>
  
          배달 주소: <input type="text" id="adr" size="50" onblur="checkAddress()" placeholder="주소를 입력하세요">
          <br><br>
  
          주문 합계: <input type="text" id="total" value="0" readonly> 원
          <br><br>
  
          <input type="submit" value="주문하기">
          <input type="reset" value="초기화" onclick="setTimeout(orderP, 0)">
      </form>
    </section>
  </main>
  <footer>
    <small>&copy; <span id="year"></span> B-Seolhwa</small>
  </footer>
  <script src="script.js"></script>
</body>

</html>